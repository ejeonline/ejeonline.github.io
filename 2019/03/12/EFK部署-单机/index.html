<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="低端码农技术整理，如有疑问欢迎大佬指正，联系邮箱78606393@qq.com"><title>EFK部署(单机) | 二开的博客</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.3.1/jquery.min.js"></script><link rel="icon" mask sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">EFK部署(单机)</h1><a id="logo" href="/.">二开的博客</a><p class="description">二营长等你很久了！</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">EFK部署(单机)</h1><div class="post-meta">Mar 12, 2019<span> | </span><span class="category"><a href="/categories/环境搭建/">环境搭建</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-介绍"><span class="toc-number">1.</span> <span class="toc-text">1.介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-环境准备"><span class="toc-number">2.</span> <span class="toc-text">2.环境准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-JDK-配置"><span class="toc-number">3.</span> <span class="toc-text">3.JDK 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-安装elasticsearch"><span class="toc-number">4.</span> <span class="toc-text">4.安装elasticsearch</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#目录结构"><span class="toc-number">4.1.</span> <span class="toc-text">目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建用户"><span class="toc-number">4.2.</span> <span class="toc-text">创建用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#创建data数据目录和日志目录"><span class="toc-number">4.3.</span> <span class="toc-text">创建data数据目录和日志目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#解压elasticsearch"><span class="toc-number">4.4.</span> <span class="toc-text">解压elasticsearch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#elasticsearch控制台中文乱码和jvm大小调节乱码问题"><span class="toc-number">4.5.</span> <span class="toc-text">elasticsearch控制台中文乱码和jvm大小调节乱码问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#es主要配置说明"><span class="toc-number">4.6.</span> <span class="toc-text">es主要配置说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启动Elasticsearch"><span class="toc-number">4.7.</span> <span class="toc-text">启动Elasticsearch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#后台启动"><span class="toc-number">4.8.</span> <span class="toc-text">后台启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找ES进程"><span class="toc-number">4.9.</span> <span class="toc-text">查找ES进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#杀掉ES进程"><span class="toc-number">4.10.</span> <span class="toc-text">杀掉ES进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#常见问题"><span class="toc-number">4.11.</span> <span class="toc-text">常见问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-安装kibana"><span class="toc-number">5.</span> <span class="toc-text">5.安装kibana</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#解压"><span class="toc-number">5.1.</span> <span class="toc-text">解压</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置"><span class="toc-number">5.2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#添加以下配置或者取消注释并修改"><span class="toc-number">5.3.</span> <span class="toc-text">添加以下配置或者取消注释并修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#如果外网不能访问-开放端口号"><span class="toc-number">5.4.</span> <span class="toc-text">如果外网不能访问,开放端口号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#后台启动-1"><span class="toc-number">5.5.</span> <span class="toc-text">后台启动</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找ES进程-1"><span class="toc-number">5.6.</span> <span class="toc-text">查找ES进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#杀掉ES进程-1"><span class="toc-number">5.7.</span> <span class="toc-text">杀掉ES进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外网访问"><span class="toc-number">5.8.</span> <span class="toc-text">外网访问</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-FileBeat安装"><span class="toc-number">6.</span> <span class="toc-text">6. FileBeat安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#解压-1"><span class="toc-number">6.1.</span> <span class="toc-text">解压</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#配置-1"><span class="toc-number">6.2.</span> <span class="toc-text">配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#启动filebeat"><span class="toc-number">6.3.</span> <span class="toc-text">启动filebeat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#后台方式启动filebeat："><span class="toc-number">6.4.</span> <span class="toc-text">后台方式启动filebeat：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查找进程ID并kill掉："><span class="toc-number">6.5.</span> <span class="toc-text">查找进程ID并kill掉：</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-配置Kibana"><span class="toc-number">7.</span> <span class="toc-text">7.配置Kibana</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#使用"><span class="toc-number">7.1.</span> <span class="toc-text">使用</span></a></li></ol></li></ol></div></div><div class="post-content"><h2 id="1-介绍"><a href="#1-介绍" class="headerlink" title="1.介绍"></a>1.介绍</h2><p>EFK不是一个软件，而是一套解决方案，并且都是开源软件，之间互相配合使用，完美衔接，高效的满足了很多场合的应用，是目前主流的一种日志系统。EFK是三个开源软件的缩写，分别表示：Elasticsearch , FileBeat, Kibana , 其中ELasticsearch负责日志保存和搜索，FileBeat负责收集日志，Kibana 负责界面,当然EFK和ELK只有一个区别，那就是EFK把ELK的Logstash替换成了FileBeat，因为Filebeat相对于Logstash来说有2个好处：</p>
<p>1、侵入低，无需修改程序目前任何代码和配置<br>2、相对于Logstash来说性能高，Logstash对于IO占用很大</p>
<p>当然FileBeat也并不是完全好过Logstash，毕竟Logstash对于日志的格式化这些相对FileBeat好很多，FileBeat只是将日志从日志文件中读取出来，当然如果你日志本身是有一定格式的，FileBeat也可以格式化，但是相对于Logstash来说，还是差一点</p>
<p><strong>Elasticsearch</strong></p>
<p>Elasticsearch是个开源分布式搜索引擎，提供搜集、分析、存储数据三大功能。它的特点有：分布式，零配置，自动发现，索引自动分片，索引副本机制，restful风格接口，多数据源，自动搜索负载等。</p>
<p><strong>FileBeat</strong></p>
<p>Filebeat隶属于Beats。目前Beats包含六种工具：<br>Packetbeat（搜集网络流量数据）<br>Metricbeat（搜集系统、进程和文件系统级别的 CPU 和内存使用情况等数据）<br>Filebeat（搜集文件数据）<br>Winlogbeat（搜集 Windows 事件日志数据）<br>Auditbeat（ 轻量型审计日志采集器）<br>Heartbeat（轻量级服务器健康采集器）</p>
<p><strong>Kibana</strong></p>
<p>Kibana可以为 Logstash 、Beats和 ElasticSearch 提供的日志分析友好的 Web 界面，可以帮助汇总、分析和搜索重要数据日志。</p>
<h2 id="2-环境准备"><a href="#2-环境准备" class="headerlink" title="2.环境准备"></a>2.环境准备</h2><p>CentOS 7.0 64位 4核8G</p>
<p>jdk1.8</p>
<p>EFK下载地址 <a href="https://www.elastic.co/downloads" target="_blank" rel="noopener">https://www.elastic.co/downloads</a></p>
<p>我这里用的都是6.5.1最新稳定版本 elasticsearch-6.5.1,filebeat-6.5.1,kibana-6.5.1</p>
<h2 id="3-JDK-配置"><a href="#3-JDK-配置" class="headerlink" title="3.JDK 配置"></a>3.JDK 配置</h2><p>Elasticsearch需要运行在Java 1.8 及以上，所以需要先安装Java1.8</p>
<p>我这里是下载好的tar包,放在了/usr/local 目录下,解压并配置环境变量</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">tar -xzvf  jdk-8u191-linux-x64.tar.gz</span><br><span class="line"></span><br><span class="line">vim /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">JAVA_HOME</span>=/usr/java/jdk1.8.0_141</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">CLASSPATH</span>=<span class="variable">$JAVA_HOME</span>/lib/tools.jar:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$JAVA_HOME</span>/bin:$PATH</span><br></pre></td></tr></table></figure>
<p>按 Esc 键退出编辑模式，输入 :wq 保存并关闭文件。<br>加载环境变量：</p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">source</span> <span class="regexp">/etc/</span>profile</span><br></pre></td></tr></table></figure>
<p>查看 jdk 版本。当出现 jdk 版本信息时，表示 JDK 已经安装成功。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br><span class="line">java version <span class="string">"1.8.0_191"</span></span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_191-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit<span class="built_in"> Server </span>VM (build 25.191-b12, mixed mode)</span><br></pre></td></tr></table></figure>
<h2 id="4-安装elasticsearch"><a href="#4-安装elasticsearch" class="headerlink" title="4.安装elasticsearch"></a>4.安装elasticsearch</h2><p>我这里新建了一个文件夹去管理EFK</p>
<h3 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">├── efk</span><br><span class="line">│   ├── elasticsearch-<span class="number">6.5</span>.<span class="number">1</span></span><br><span class="line">│   │   ├── bin</span><br><span class="line">│   │   ├── config</span><br><span class="line">│   │   ├── data</span><br><span class="line">│   │   ├── lib</span><br><span class="line">│   │   ├── LICENSE.txt</span><br><span class="line">│   │   ├── logs</span><br><span class="line">│   │   ├── modules</span><br><span class="line">│   │   ├── NOTICE.txt</span><br><span class="line">│   │   ├── plugins</span><br><span class="line">│   │   └── README.textile</span><br><span class="line">│   ├── filebeat-<span class="number">6.5</span>.<span class="number">1</span>-linux-x86_64</span><br><span class="line">│   │   ├── data</span><br><span class="line">│   │   ├── fields.yml</span><br><span class="line">│   │   ├── filebeat</span><br><span class="line">│   │   ├── filebeat<span class="selector-class">.reference</span><span class="selector-class">.yml</span></span><br><span class="line">│   │   ├── filebeat.yml</span><br><span class="line">│   │   ├── kibana</span><br><span class="line">│   │   ├── LICENSE.txt</span><br><span class="line">│   │   ├── logs</span><br><span class="line">│   │   ├── module</span><br><span class="line">│   │   ├── modules.d</span><br><span class="line">│   │   ├── NOTICE.txt</span><br><span class="line">│   │   └── README.md</span><br><span class="line">│   ├── kibana-<span class="number">6.5</span>.<span class="number">1</span>-linux-x86_64</span><br><span class="line">│   │   ├── bin</span><br><span class="line">│   │   ├── config</span><br><span class="line">│   │   ├── data</span><br><span class="line">│   │   ├── LICENSE.txt</span><br><span class="line">│   │   ├── logs</span><br><span class="line">│   │   ├── node</span><br><span class="line">│   │   ├── node_modules</span><br><span class="line">│   │   ├── NOTICE.txt</span><br><span class="line">│   │   ├── optimize</span><br><span class="line">│   │   ├── package.json</span><br><span class="line">│   │   ├── plugins</span><br><span class="line">│   │   ├── README.txt</span><br><span class="line">│   │   ├── src</span><br><span class="line">│   │   └── webpackShims</span><br><span class="line">└── testlog</span><br><span class="line">    ├── <span class="selector-tag">a</span>.out</span><br><span class="line">    └── catalina.<span class="number">2018</span>-<span class="number">11</span>-<span class="number">28</span>.log</span><br></pre></td></tr></table></figure>
<h3 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h3><p>由于Elasticsearch不能使用root用户打开，所以需要专门创建一个用户来启动Elasticsearch并赋予权限</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">groupadd efk</span><br><span class="line"></span><br><span class="line">useradd efk -g efk -<span class="selector-tag">p</span> efk</span><br><span class="line"></span><br><span class="line">chown -R efk:efk EFK</span><br></pre></td></tr></table></figure>
<h3 id="创建data数据目录和日志目录"><a href="#创建data数据目录和日志目录" class="headerlink" title="创建data数据目录和日志目录"></a>创建data数据目录和日志目录</h3><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">su</span> efk</span><br><span class="line"></span><br><span class="line"><span class="keyword">mkdir</span> data/esdata </span><br><span class="line"></span><br><span class="line"><span class="keyword">mkdir</span> alllogs/eslog</span><br></pre></td></tr></table></figure>
<h3 id="解压elasticsearch"><a href="#解压elasticsearch" class="headerlink" title="解压elasticsearch"></a>解压elasticsearch</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tar</span> <span class="selector-tag">-xzvf</span> <span class="selector-tag">elasticsearch-6</span><span class="selector-class">.5</span><span class="selector-class">.1</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure>
<p>进入elasticsearch主目录</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="built_in">config</span>/elasticsearch.yml</span><br></pre></td></tr></table></figure>
<p>因为是单机 所以只配了下面几个属性</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">http.<span class="string">port:</span> <span class="number">9200</span></span><br><span class="line">path.<span class="string">data:</span> <span class="regexp">/myproject/</span>efk<span class="regexp">/elasticsearch-6.5.1/</span>data</span><br><span class="line">path.<span class="string">logs:</span> <span class="regexp">/myproject/</span>efk<span class="regexp">/elasticsearch-6.5.1/</span>logs</span><br><span class="line">network.<span class="string">host:</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span></span><br></pre></td></tr></table></figure>
<h3 id="elasticsearch控制台中文乱码和jvm大小调节乱码问题"><a href="#elasticsearch控制台中文乱码和jvm大小调节乱码问题" class="headerlink" title="elasticsearch控制台中文乱码和jvm大小调节乱码问题"></a>elasticsearch控制台中文乱码和jvm大小调节乱码问题</h3><p>修改conf下面的jvm.options如下</p>
<figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">-Xms256m</span></span><br><span class="line"><span class="literal">-Xmx256m</span></span><br><span class="line"><span class="comment"># ensure UTF-8 encoding by default (e.g. filenames)</span></span><br><span class="line"><span class="comment">#-Dfile.encoding=UTF-8</span></span><br><span class="line"><span class="literal">-Dfile.encoding=GBK</span></span><br></pre></td></tr></table></figure>
<h3 id="es主要配置说明"><a href="#es主要配置说明" class="headerlink" title="es主要配置说明"></a>es主要配置说明</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#集群主节点名称</span></span><br><span class="line"></span><br><span class="line">cluster.name: mymaster   </span><br><span class="line"></span><br><span class="line"><span class="keyword">node</span>.name:<span class="title"> es-1</span></span><br><span class="line"></span><br><span class="line"> <span class="comment"># 是否为master</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">node</span>.master:<span class="title"> true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 是否为数据节点</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">node</span>.data:<span class="title"> true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据目录</span></span><br><span class="line"></span><br><span class="line">path.data: /myproject/efk/elasticsearch-<span class="number">6.5</span>.<span class="number">1</span>/data</span><br><span class="line"></span><br><span class="line"><span class="comment"># 日志目录</span></span><br><span class="line"></span><br><span class="line">path.logs: /myproject/efk/elasticsearch-<span class="number">6.5</span>.<span class="number">1</span>/logs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 本机IP</span></span><br><span class="line"></span><br><span class="line">network.host: <span class="number">0.0</span>.<span class="number">0.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 本机http端口</span></span><br><span class="line"></span><br><span class="line">http.port: <span class="number">9200</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定集群中的节点中有几个有master资格的节点</span></span><br><span class="line"></span><br><span class="line">discovery.zen.minimum_master_nodes: <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定集群中其他节点的IP</span></span><br><span class="line"></span><br><span class="line">discovery.zen.ping.unicast.hosts: [<span class="string">"10.168.1.44"</span>,<span class="string">"10.168.0.126"</span>,<span class="string">"10.168.0.127"</span>,<span class="string">"10.168.0.128"</span>,<span class="string">"10.168.0.130"</span>]</span><br></pre></td></tr></table></figure>
<h3 id="启动Elasticsearch"><a href="#启动Elasticsearch" class="headerlink" title="启动Elasticsearch"></a>启动Elasticsearch</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.<span class="regexp">/bin/</span>elasticsearch</span><br></pre></td></tr></table></figure>
<h3 id="后台启动"><a href="#后台启动" class="headerlink" title="后台启动"></a>后台启动</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">./elasticsearch</span> -d</span><br></pre></td></tr></table></figure>
<h3 id="查找ES进程"><a href="#查找ES进程" class="headerlink" title="查找ES进程"></a>查找ES进程</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ps</span> -ef | <span class="keyword">grep</span> elastic</span><br></pre></td></tr></table></figure>
<h3 id="杀掉ES进程"><a href="#杀掉ES进程" class="headerlink" title="杀掉ES进程"></a>杀掉ES进程</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill <span class="number">-9</span> <span class="number">2382</span>（进程号）</span><br></pre></td></tr></table></figure>
<h3 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h3><p>如果遇到错误：max file descriptors [65535] for elasticsearch process is too low, increase to at least [65536]</p>
<p>vi /etc/security/limits.conf  </p>
<p>如果有 <em> soft nofile 65535 </em> hard nofile 65535 则将65535修改为65536，如果没有则在后面添加，注意此处的65535对应descriptors [65535]中的65535，修改后的值65536对应increase to at least [65536]，所以当提示不一致时，需要根据具体的错误提示具体修改</p>
<p>如果遇到错误： max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vi</span> /etc/sysctl.<span class="keyword">conf</span></span><br></pre></td></tr></table></figure>
<p>添加配置</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">vm.max_map_count</span>=<span class="number">262144</span></span><br></pre></td></tr></table></figure>
<p>并执行命令</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">sysctl -p</span></span><br></pre></td></tr></table></figure>
<p>以上2个修改需要在root用户权限修改，如果是使用xshell开两个窗口的话修改完成之后一定要断开重新登录一下，启动成功用执行命令</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">curl</span> 127<span class="selector-class">.0</span><span class="selector-class">.0</span><span class="selector-class">.1</span><span class="selector-pseudo">:9200</span></span><br></pre></td></tr></table></figure>
<p>会得到类似以下json</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"name"</span> : <span class="string">"JEBFbUB"</span>,</span><br><span class="line">  <span class="attr">"cluster_name"</span> : <span class="string">"elasticsearch"</span>,</span><br><span class="line">  <span class="attr">"cluster_uuid"</span> : <span class="string">"tDw_Tk9rSyevhkazjbVa0Q"</span>,</span><br><span class="line">  <span class="attr">"version"</span> : &#123;</span><br><span class="line">    <span class="attr">"number"</span> : <span class="string">"6.5.1"</span>,</span><br><span class="line">    <span class="attr">"build_flavor"</span> : <span class="string">"default"</span>,</span><br><span class="line">    <span class="attr">"build_type"</span> : <span class="string">"tar"</span>,</span><br><span class="line">    <span class="attr">"build_hash"</span> : <span class="string">"8c58350"</span>,</span><br><span class="line">    <span class="attr">"build_date"</span> : <span class="string">"2018-11-16T02:22:42.182257Z"</span>,</span><br><span class="line">    <span class="attr">"build_snapshot"</span> : <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">"lucene_version"</span> : <span class="string">"7.5.0"</span>,</span><br><span class="line">    <span class="attr">"minimum_wire_compatibility_version"</span> : <span class="string">"5.6.0"</span>,</span><br><span class="line">    <span class="attr">"minimum_index_compatibility_version"</span> : <span class="string">"5.0.0"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"tagline"</span> : <span class="string">"You Know, for Search"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-安装kibana"><a href="#5-安装kibana" class="headerlink" title="5.安装kibana"></a>5.安装kibana</h2><h3 id="解压"><a href="#解压" class="headerlink" title="解压"></a>解压</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tar</span> <span class="selector-tag">-xzvf</span> <span class="selector-tag">kibana-6</span><span class="selector-class">.5</span><span class="selector-class">.1-linux-x86_64</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim <span class="built_in">config</span>/kibana.yml</span><br></pre></td></tr></table></figure>
<h3 id="添加以下配置或者取消注释并修改"><a href="#添加以下配置或者取消注释并修改" class="headerlink" title="添加以下配置或者取消注释并修改"></a>添加以下配置或者取消注释并修改</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">logging<span class="selector-class">.dest</span>: /myproject/efk/kibana-<span class="number">6.5</span>.<span class="number">1</span>-linux-x86_64/logs/kibana.log</span><br><span class="line">elasticsearch<span class="selector-class">.url</span>: <span class="string">"http://127.0.0.1:9200"</span></span><br><span class="line">server<span class="selector-class">.host</span>: <span class="string">"0.0.0.0"</span></span><br><span class="line">kibana<span class="selector-class">.index</span>: <span class="string">".kibana"</span></span><br></pre></td></tr></table></figure>
<p>其中elasticsearch.url为Elasticsearch的地址，server.host默认是localhost，如果只是本地访问可以默认localhost，如果需要外网访问，可以设置为0.0.0.0</p>
<h3 id="如果外网不能访问-开放端口号"><a href="#如果外网不能访问-开放端口号" class="headerlink" title="如果外网不能访问,开放端口号"></a>如果外网不能访问,开放端口号</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd <span class="attribute">--zone</span>=public <span class="attribute">--query-port</span>=80/tcp</span><br><span class="line"><span class="comment">#查看5601是否占用</span></span><br><span class="line">firewall-cmd <span class="attribute">--zone</span>=public <span class="attribute">--query-port</span>=5601/tcp</span><br><span class="line"><span class="comment">#添加5601</span></span><br><span class="line">firewall-cmd <span class="attribute">--zone</span>=public <span class="attribute">--add-port</span>=5601/tcp --permanent</span><br><span class="line"><span class="comment">#重载</span></span><br><span class="line">firewall-cmd --reload</span><br><span class="line"><span class="comment">#再次查看5601是否占用</span></span><br><span class="line">firewall-cmd <span class="attribute">--zone</span>=public <span class="attribute">--query-port</span>=5601/tcp</span><br></pre></td></tr></table></figure>
<h3 id="后台启动-1"><a href="#后台启动-1" class="headerlink" title="后台启动"></a>后台启动</h3><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup ./bin/kibana &gt; logs/kibana.<span class="built_in">log</span> <span class="meta">&amp;</span></span><br></pre></td></tr></table></figure>
<h3 id="查找ES进程-1"><a href="#查找ES进程-1" class="headerlink" title="查找ES进程"></a>查找ES进程</h3><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | grep <span class="keyword">node</span><span class="title"></span></span><br></pre></td></tr></table></figure>
<h3 id="杀掉ES进程-1"><a href="#杀掉ES进程-1" class="headerlink" title="杀掉ES进程"></a>杀掉ES进程</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill <span class="number">-9</span> <span class="number">2382</span></span><br></pre></td></tr></table></figure>
<h3 id="外网访问"><a href="#外网访问" class="headerlink" title="外网访问"></a>外网访问</h3><p><a href="http://10.146.247.161:8080" target="_blank" rel="noopener">http://10.146.247.161:8080</a></p>
<h2 id="6-FileBeat安装"><a href="#6-FileBeat安装" class="headerlink" title="6. FileBeat安装"></a>6. FileBeat安装</h2><h3 id="解压-1"><a href="#解压-1" class="headerlink" title="解压"></a>解压</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">tar</span> <span class="selector-tag">-xzvf</span> <span class="selector-tag">filebeat-6</span><span class="selector-class">.5</span><span class="selector-class">.1-linux-x86_64</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span></span><br></pre></td></tr></table></figure>
<h3 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">vim</span> filebeat.yml</span><br><span class="line">filebeat.<span class="built_in">input</span><span class="variable">s:</span></span><br><span class="line">- <span class="built_in">type</span>: <span class="built_in">log</span></span><br><span class="line">  enabled: true  #默认此处为false  要改成true才会生效 </span><br><span class="line">  path<span class="variable">s:</span></span><br><span class="line">    - /myproject/testlog/*.<span class="built_in">log</span></span><br><span class="line">    - /myproject/testlog/*.out</span><br><span class="line">  multiline.pattern: ^\[</span><br><span class="line">  multiline.negate: true</span><br><span class="line">  multiline.<span class="keyword">match</span>: after</span><br><span class="line">setup.kiban<span class="variable">a:</span></span><br><span class="line">  hos<span class="variable">t:</span> <span class="string">"127.0.0.1:5601"</span></span><br><span class="line">output.elasticsearch:</span><br><span class="line">  host<span class="variable">s:</span> [<span class="string">"127.0.0.1:9200"</span>]</span><br></pre></td></tr></table></figure>
<p>配置一定要注意格式，是以2个空格为子级，里面的配置都在配置文件中，列出来的只是要修改的部分，<strong>enabled默认为false，需要改成true才会收集日志。</strong>其中/myproject/test/*.log修改为自己的日志路径，注意-后面有一个空格，如果多个路径则添加一行，一定要注意新行前面的4个空格，multiline开头的几个配置取消注释就行了，是为了兼容多行日志的情况，setup.kibana中的host取消注释，根据实际情况配置地址，output.elasticsearch中的host也一样，根据实际情况配置</p>
<h3 id="启动filebeat"><a href="#启动filebeat" class="headerlink" title="启动filebeat"></a>启动filebeat</h3><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">./filebeat</span> -e -c filebeat.yml</span><br></pre></td></tr></table></figure>
<p>常用的filebeat命令：</p>
<p>-E, –E “SETTING_NAME=VALUE”</p>
<p>覆盖特定的配置设置。 您可以指定多个覆盖。 例如： </p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">filebeat -<span class="keyword">E</span> <span class="string">"name=mybeat"</span> -<span class="keyword">E</span> <span class="string">"output.elasticsearch.hosts=["</span>http://myhost:<span class="number">9200</span><span class="string">"]"</span></span><br></pre></td></tr></table></figure>
<p>此设置适用于当前正在运行的Filebeat进程。 Filebeat配置文件不会更改。</p>
<p>-c, –c FILE</p>
<p>指定用于Filebeat的配置文件。 你在这里指定的文件是相对于path.config。 如果未指定-c标志，则使用默认配置文件filebeat.yml。</p>
<p>-d, –d SELECTORS</p>
<p>启用对指定选择器的调试。 对于选择器，可以指定逗号分隔的组件列表，也可以使用-d“*”为所有组件启用调试。 例如，-d“publish”显示所有“publish”相关的消息。</p>
<p>-e, –e</p>
<p>记录到stderr并禁用syslog /文件输出。</p>
<p>-v, –v</p>
<p>记录INFO级别的消息。</p>
<p>./filebeat -configtest 测试配置文件</p>
<p>./filebeat -httpprof[(host)]:(port):启动http服务器进行性能分析</p>
<p>-memprofile (output file) :将存储器配置文件写入指定的输出文件</p>
<p>-path.config : 设置配置的默认位置</p>
<p>-path.data : 设置数据文件的默认位置</p>
<p>-path.home : 设置其他文件的默认位置</p>
<p>-path.logs : 设置日志文件的默认位置</p>
<p>测试filebeat启动后，查看相关输出信息：</p>
<p>./filebeat -e -c filebeat.yml -d “publish”</p>
<h3 id="后台方式启动filebeat："><a href="#后台方式启动filebeat：" class="headerlink" title="后台方式启动filebeat："></a>后台方式启动filebeat：</h3><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup ./filebeat -e -c filebeat<span class="selector-class">.yml</span> &gt; logs/filebeat<span class="selector-class">.out</span> &amp;</span><br></pre></td></tr></table></figure>
<h3 id="查找进程ID并kill掉："><a href="#查找进程ID并kill掉：" class="headerlink" title="查找进程ID并kill掉："></a>查找进程ID并kill掉：</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ps -ef |grep filebeat</span><br><span class="line">kill <span class="number">-9</span> <span class="number">2233</span></span><br></pre></td></tr></table></figure>
<p>/usr/local/filebeat/filebeat.yml为filebeat 的配置文件地址，需要根据实际情况修改，启动后FileBeat就会自动收集日志了</p>
<h2 id="7-配置Kibana"><a href="#7-配置Kibana" class="headerlink" title="7.配置Kibana"></a>7.配置Kibana</h2><p>进入 <a href="http://10.146.247.161:8080" target="_blank" rel="noopener">http://10.146.247.161:8080</a></p>
<p>点击Management进入配置</p>
<p>点击进入Index Patterns</p>
<p>FileBeat默认创建的Elasticsearch索引格式为filebeat-版本号-日期</p>
<p>在第一个红框的输入框中输入</p>
<p>filebeat-6.5.1-*</p>
<p>能匹配到Elasticsearch的索引，第二个红框出会显示出Elasticsearch中已有的索引，点击Next step进入下一步,</p>
<p>点击Create index pattern完成配置，配置完成后点击 Discover就能查看日志了，还能搜索</p>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>通过Filebeat读取配置目录下的log文件,从kibana页面搜索结果</p>
<p>e.g</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd /myproject/test/</span><br><span class="line"></span><br><span class="line">vim <span class="selector-tag">a</span>.log</span><br><span class="line"></span><br><span class="line">teststststststtststs</span><br></pre></td></tr></table></figure>
<p>wq保存之后 在kibana查询</p>
<p>teststststststtststs即可查询到结果</p>
<p>EFK搭建完毕.</p>
<p>EFK使用方式后续补充</p>
</div><iframe src="/donate/?AliPayQR=/img/al.png&amp;WeChatQR=/img/wx.png&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/环境搭建/">环境搭建</a><a href="/tags/EFK/">EFK</a><a href="/tags/ElasticSearch/">ElasticSearch</a></div><div class="post-nav"><a class="pre" href="/2019/03/12/pinpoint搭建流程/">pinpoint搭建流程</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java基础/">Java基础</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Spring/">Spring</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/SpringBoot/">SpringBoot</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/小技能/">小技能</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/环境搭建/">环境搭建</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/破解/">破解</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/面试/">面试</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Auto-js/" style="font-size: 15px;">Auto.js</a> <a href="/tags/环境搭建/" style="font-size: 15px;">环境搭建</a> <a href="/tags/EFK/" style="font-size: 15px;">EFK</a> <a href="/tags/ElasticSearch/" style="font-size: 15px;">ElasticSearch</a> <a href="/tags/SpringBoot/" style="font-size: 15px;">SpringBoot</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/面试/" style="font-size: 15px;">面试</a> <a href="/tags/资源-软件破解/" style="font-size: 15px;">资源-软件破解</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/Java基础/" style="font-size: 15px;">Java基础</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/pinpoint/" style="font-size: 15px;">pinpoint</a> <a href="/tags/Spring/" style="font-size: 15px;">Spring</a> <a href="/tags/springboot/" style="font-size: 15px;">springboot</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/01/21/一键部署springboot项目到docker/">一键部署springboot项目到docker</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/01/17/VMware安装黑苹果踩坑/">VMware安装黑苹果踩坑</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/19/Java基础整理/">Java基础整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/16/Navicat-12激活/">Navicat 12激活</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/06/SpringBoot学习-03-在IDEA上本地更新远程项目/">SpringBoot学习-03.在IDEA上本地更新远程项目</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/05/ThreadLocal理解/">ThreadLocal理解</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/05/SpringBoot学习-02-在IDEA上实现项目的远程调试/">SpringBoot学习-02.在IDEA上实现项目的远程调试</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/05/SpringBoot学习-01-实现微信接入/">SpringBoot学习-01.实现微信接入</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/03/Auto-js学习/">Auto.js学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/02/文件对比神器Beyond-Compare4/">文件对比神器Beyond Compare4</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/." rel="nofollow">二开的博客.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.2/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>